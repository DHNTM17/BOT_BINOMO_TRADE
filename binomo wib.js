let signal = [
	["02:20 B"],
	["02:25 B"],
	["02:30 S"],
	["02:35 B"],
	["02:40 B"],
	["02:45 B"],
	["02:50 S"],
	["02:55 B"],
	["03:00 B"],
	["03:05 B"],
	["03:10 S"],
	["03:15 B"],
	["03:20 S"],
	["03:25 B"],
	["03:30  S"],
	["03:35 S"],
	["03:40 B"],
	["03:45 S"],
	["03:50 B"],
	["03:55 S"],
	["04:00 S"],
	["04:05 S"],
	["04:10 B"],
	["04:15 S"],
	["04:20 S"],
	["04:25 B"],
	["04:30 S"],
	["04:35 B"],
	["04:40 S"],
	["04:45 S"],
	["04:50 S"],
	["04:55 S"],
	["05:00 B"],
	["05:05 B"],
	["05:10 B"],
	["05:15 S"],
	["05:20 S"],
	["05:25 B"],
	["05;30 S"],
	["05:35 B"],
	["05:40 B"],
	["05:45 S"],
	["05:50 B"],
	["05:55 B"],
	["06:00 S"],
	["06:05 B"],
	["06:10 S"],
	["06:15 S"],
	["06:20 B"],
	["06:25 S"],
	["06:30 B"],
	["06:35 B"],
	["06:40 B"],
	["06:45 S"],
	["06:50 S"],
	["06:55 S"],
	["07:00 B"],
	["07:05 B"],
	["07:10 B"],
	["07:15 B"],
	["07:20 B"],
	["07:25 S"],
	["07:30 B"],
	["07:35 B"],
	["07:40 S"],
	["07:45 S"],
	["07:50 S"],
	["07:55 S"],
	["08:00 B"],
	["08:05 B"],
	["08:10 S"],
	["08:15 B"],
	["08:20 B"],
	["08:25 B"],
	["08:30 B"],
	["08:35 S"],
	["08:40 B"],
	["08:45 B"],
	["08:50 B"],
	["08:55 B"],
	["09:00 S"],
	["09:05 B"],
	["09:10 S"],
	["09:15 S"],
	["09:20 S"],
	["09:25 S"],
	["09:30 S"],
	["09:35 B"],
	["09:40 S"],
	["09:45 S"],
	["09:50 S"],
	["09:55 S"],
	["10:00 B"],
	["10:05 S"],
	["10:10 B"],
	["10:15 B"],
	["10:20 B"],
	["10:25 S"],
	["10:30 B"],
	["10:35 S"],
	["10:40 S"],
	["10:45 B"],
	["10:50 S"],
	["10:55 B"],
	["11:00 S"],
	["11:05 B"],
	["11:10 B"],
	["11:15 S"],
	["11:20 S"],
	["11:25 B"],
	["11:30 B"],
	["11:35 S"],
	["11:40 S"],
	["11:45 B"],
	["11:50 S"],
	["11:55 B"],
	["12:00 B"],
	["12:05 B"],
	["12:10 B"],
	["12:15 B"],
	["12:20 S"],
	["12:25 S"],
	["12:30 S"],
	["12:35 B"],
	["12:40 B"],
	["12:45 S"],
	["12:50 B"],
	["12:55 S"],
	["13:00 S"],
	["13:05 S"],
	["13:10 B"],
	["13:15 B"],
	["13:20 S"],
	["13:25 B"],
	["13:30 B"],
	["13:35 S"],
	["13:40 S"],
	["13:45 S"],
	["13:50 S"],
	["13:55 S"],
	["14:00 B"],
	["14:05 S"],
	["14:10 B"],
	["14:15 B"],
	["14:20 S"],
	["14:25 B"],
	["14:30 S"],
	["14:35 B"],
	["14:40 S"],
	["14:45 B"],
	["14:50 S"],
	["14:55 B"],
	["15:00 B"],
	["15:05 B"],
	["15:10 S"],
	["15:15 B"],
	["15:20 B"],
	["15:25 B"],
	["15:30 B"],
	["15:35 B"],
	["15:40 B"],
	["15:45 B"],
	["15:50 S"],
	["15:55 S"],
	["16:00 S"],
	["16:05 S"],
	["16:10 S"],
	["16:15 S"],
	["16:20 B"],
	["16:25 B"],
	["16:30 B"],
	["16:35 S"],
	["16:40 S"],
	["16:45 B"],
	["16:50 B"],
	["16:55 B"],
	["17:00 S"],
	["17:05 B"],
	["17:10 S"],
	["17:15 S"],
	["17:20 B"],
	["17:25 S"],
	["17:30 B"],
	["17:35 S"],
	["17:40 B"],
	["17:45 S"],
	["17:50 B"],
	["17:55 S"],
	["18:00 S"],
	["18:05 S"],
	["18:10 B"],
	["18:15 B"],
	["18:20 S"],
	["18:25 S"],
	["18:30 S"],
	["18:35 B"],
	["18:40 B"],
	["18:45 S"],
	["18:50 S"],
	["18:55 S"],
	["19:00 B"],
	["19:05 B"],
	["19:10 B"],
	["19:15 S"],
	["19:20 S"],
	["19:25 S"],
	["19:30 S"],
	["19:35 B"],
	["19:40 S"],
	["19:45 S"],
	["19:50 B"],
	["19:55 B"],
	["20:00 B"],
	["20:05 B"],
	["20:10 B"],
	["20:15 S"],
	["20:20 S"],
	["20:25  S"],
	["20:30 S"],
	["20:35 S"],
	["20:40 B"],
	["20:45 B"],
	["20:50 B"],
	["20:55 B"],
	["21:00 S"],
	["21:05 B"],
	["21:10 S"],
	["21:15 S"],
	["21:20 B"],
	["21:25 B"],
	["21:30 B"],
	["21:35 S"],
	["21:40 S"],
	["21:45 S"],
	["21:50 S"],
	["21:55 B"],
	["22:00 S"],
	["22:05 B"],
	["22:10 S"],
	["22:15 S"],
	["22:20 B"],
	["22:25 S"],
	["22:30 S"],
	["22:35 S"],
	["22:40 B"],
	["22:45 B"],
	["22:50 B"],
	["22:55 S"],
	["23:00 B"],
	["23:05 B"],
	["23:10 B"],
	["23:15 B"],
	["23:20 B"],
	["23:25 S"],
	["23:30 S"],
	["23:35 B"],
	["23:40 S"],
	["23:45 S"],
	["23:50 S"],
	["23:55 B"]
]
let last_op = null;
let last_pos = null;
let target = null;
let sl = null;

function op() {
  let d = new Date();
  let hours = d.getHours();
  let minutes = d.getMinutes() + 2;
  let second = d.getSeconds();

  let balance = document.getElementById("qa_trading_balance").innerHTML;
  balance = balance.replace("Rp", "");
  balance = balance.replace(".", "");
  balance = balance.replace(",", ".");
  balance = balance.trim();

  if (target != null) {
    if (balance > target) {
      console.log("Sudah mencapai target TP");
      return document.getElementById("qa_trading_balance").innerHTML;
    }
  }

  if (sl != null) {
    if (balance < sl) {
      console.log("Sudah mencapai target stop loss");
      return document.getElementById("qa_trading_balance").innerHTML;
    }
  }

  if (minutes >= 60) {
    minutes = minutes - 60;
  }
  //Waktu Open Posisi
  if (second == 58) {
    signal.map((x) => {
      let time = x[0].split(" ");
      if (
        time[0] ==
        (hours < 10 ? "0" : "") +
          hours +
          ":" +
          (minutes < 10 ? "0" : "") +
          minutes
      ) {
        if (time[1] == "B") {
          document.getElementById("qa_trading_dealUpButton").click();
          last_pos = "B";
        } else {
          document.getElementById("qa_trading_dealDownButton").click();
          last_pos = "S";
        }
        last_op =
          (hours < 10 ? "0" : "") +
          hours +
          ":" +
          (minutes < 10 ? "0" : "") +
          minutes +
          ":" +
          "00";

        console.log("Open Posisi " + time[1] + " di waktu " + last_op);
      }
    });
  } else {
    console.info(
      (hours < 10 ? "0" : "") +
        hours +
        ":" +
        (minutes < 10 ? "0" : "") +
        minutes
    );
  }
}

setInterval(op, 1000);
